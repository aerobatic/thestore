!function(){"use strict";var a=angular.module("storeApp",["ngRoute","product","user","pascalprecht.translate"]);angular.module("product",[]),angular.module("user",[]),a.config(["$routeProvider","$httpProvider","$translateProvider",function(a,b,c){a.when("/",{templateUrl:"views/product/products.html",controller:"ProductController as productCtrl"}).when("/products",{templateUrl:"views/product/products.html",controller:"ProductController as productCtrl"}).when("/products/:productId",{templateUrl:"views/product/product-details.html",controller:"ProductDetailController as productDetailCtrl"}).when("/signup",{templateUrl:"views/user/sign-up.html",controller:"UserController as userCtrl"}).otherwise({redirectTo:"/"}),b.defaults.cache=!0,c.useStaticFilesLoader({prefix:"i18n/messages_",suffix:".json"}),c.preferredLanguage("en")}]),a.factory("MetadataService",["$http",function(a){return{get:function(){return a.get("data/metadata.json")}}}]),a.factory("SupportedLanguagesService",["$http",function(a){return{getLanguages:function(){return a.get("i18n/supported_languages.json")}}}]),a.controller("StoreController",["$rootScope","$translate","SupportedLanguagesService","MetadataService",function(a,b,c,d){var e=this;d.get().success(function(b){a.storeMetadata=b,a.storeTitle=b.name});var f=function(){e.currentLanguage=e.supportedLanguages[0].code;for(var a=e.supportedLanguages.length,c=b.use(),d=0;a>d;d++)if(e.supportedLanguages[d].code===c){e.currentLanguage=e.supportedLanguages[d].code;break}};e.supportedLanguages=[],c.getLanguages().then(function(a){e.supportedLanguages=a.data,e.supportedLanguages.length?f():e.errorMessage="Store Error: supportedLanguages not found"},function(a){e.errorMessage=a.data.msg}),e.switchLanguage=function(a){b.use(a)}}]),a.directive("siteHeader",function(){return{restrict:"E",templateUrl:"views/site-header.html"}}),a.directive("siteFooter",function(){return{restrict:"E",templateUrl:"views/site-footer.html"}})}(),function(){"use strict";var a=angular.module("product");a.controller("ProductController",["ProductService","$filter",function(a,b){var c=this;c.products=[],c.selectedProduct=0,c.sortOrder="",c.productSort=[{value:"name",label:b("translate")("SORT_BY_PRODUCT_NAME_ASC")},{value:"-name",label:b("translate")("SORT_BY_PRODUCT_NAME_DESC")},{value:"price",label:b("translate")("SORT_BY_PRODUCT_PRICE_ASC")},{value:"-price",label:b("translate")("SORT_BY_PRODUCT_PRICE_DESC")}],c.selectRandomProduct=function(){return c.selectedProduct=Math.floor(Math.random()*c.products.length),c.selectedProduct},a.getList().then(function(a){c.products=a.data,c.selectRandomProduct()},function(b){a.errorMessage=b.data.msg,c.errorMessage=b.data.msg})}]),a.directive("productList",function(){return{restrict:"E",templateUrl:"views/product/product-list.html"}}),a.directive("productCarousel",function(){return{restrict:"E",templateUrl:"views/product/product-carousel.html"}})}(),function(){"use strict";var a=angular.module("product");a.controller("ProductDetailController",["$routeParams","ProductService",function(a,b){this.productId=a.productId;var c=this;b.getDetail(c.productId).then(function(a){c.product=a.data},function(a){c.errorMessage=a.data.msg,b.errorMessage=a.data.msg})}]),a.directive("productSubmitReview",function(){return{restrict:"E",templateUrl:"views/product/product-submit-review.html"}}),a.directive("productTabs",function(){return{restrict:"E",templateUrl:"views/product/product-tabs.html",controller:[function(){var a=this;a.tab=1,a.selectTab=function(b){a.tab=b},a.isSelected=function(b){return a.tab===b}}],controllerAs:"panelCtrl"}}),a.directive("productSpecs",function(){return{restrict:"A",templateUrl:"views/product/product-specs.html"}}),a.directive("productDescription",function(){return{restrict:"A",templateUrl:"views/product/product-description.html"}}),a.directive("productReviews",function(){return{restrict:"A",templateUrl:"views/product/product-reviews.html",controller:[function(){var a=this;a.review={},a.starSystem=[5,4,3,2,1],a.addReview=function(b){a.review.createdOn=Date.now(),b.reviews.push(this.review),a.review={}}}],controllerAs:"reviewCtrl"}}),a.directive("productImageGallery",function(){return{restrict:"E",templateUrl:"views/product/product-image-gallery.html",controller:[function(){var a=this;a.current=0,a.setCurrent=function(b){a.current=b}}],controllerAs:"galleryCtrl"}})}(),function(){"use strict";var a=angular.module("product");a.factory("ProductService",["$http",function(a){return{errorMessage:"",getList:function(){return a.get("data/products.json")},getDetail:function(b){return a.get("data/"+b+".json")}}}])}(),angular.module("storeApp").run(["$templateCache",function(a){"use strict";a.put("views/product/product-carousel.html",'<div class="container bmargin2"><div id=myCarousel class="carousel slide tmargin1" data-ride=carousel><ol class=carousel-indicators><li data-target=#myCarousel ng-repeat="product in productCtrl.products" ng-hide=product.soldout data-slide-to={{$index}} ng-class="{active: $index===productCtrl.selectedProduct}"></li></ol><div class="carousel-inner xymargin"><div class=item ng-repeat="product in productCtrl.products" ng-hide=product.soldout ng-class="{active: $index===productCtrl.selectedProduct}"><div class=carousel-image-slide style="background: url(\'{{product.images[0]}}\')"></div><a ng-href=#/products/{{product.id}}><div class=carousel-caption><h1 style=color:red>{{product.name}}</h1></div></a></div></div></div></div>'),a.put("views/product/product-description.html",'<div class=panel-heading><h4 translate=DESCRIPTION></h4></div><div class="panel-body lmargin2"><p>{{productDetailCtrl.product.description}}</p></div>'),a.put("views/product/product-details.html",'<div class="container tmargin1"><header class=jumbotron><h2 class=text-center translate=AN_ONLINE_STORE></h2></header><div class=list-group-item><h3>{{productDetailCtrl.product.name}} <em class=pull-right>{{productDetailCtrl.product.price | currency:"USD$"}}</em></h3><product-image-gallery></product-image-gallery><product-tabs></product-tabs></div></div>'),a.put("views/product/product-image-gallery.html",'<div class=gallery ng-show=productDetailCtrl.product.images.length><div class="row img-wrap"><img class="img img-responsive pdpImageClip col-lg-4" ng-src="{{productDetailCtrl.product.images[galleryCtrl.current]}}"></div><ul class="row img-thumbnails clearfix"><li class="col-sm-1 col-xs-1 small-image pdpThumbnailClip pull-left thumbnail" ng-repeat="image in productDetailCtrl.product.images"><img class="img-responsive img-thumbnail" ng-src={{image}} ng-click="galleryCtrl.setCurrent($index)"></li></ul></div>'),a.put("views/product/product-list.html",'<div class="container list-group tmargin1" ng-show="productCtrl.products | filter:search"><select ng-model=productCtrl.sortOrder ng-options="so.value as so.label for so in productCtrl.productSort"><option value="" translate=SORT_ORDER></select><div class=list-group-item ng-repeat="product in productCtrl.products | filter:search | orderBy:productCtrl.sortOrder" ng-hide=product.soldOut ng-class="{odd: $odd}"><h3><a href=#/products/{{product.id}}><dfn>{{product.name}}</dfn></a> <em class=pull-right>{{product.price | currency:"USD$"}}</em></h3><em>{{product.description}}</em></div></div><div class="container text-center text-danger bg-warning text-capitalize tmargin4" ng-hide="productCtrl.products | filter:search"><span>{{ \'INVALID_SEARCH_TERM\' | translate }}</span></div>'),a.put("views/product/product-reviews.html",'<div class=panel-heading><h4 translate=REVIEWS></h4></div><div class=panel-body><ul><li ng-repeat="review in productDetailCtrl.product.reviews"><blockquote><strong>{{review.stars}} Stars</strong> {{review.body}} <cite class=clearfix>â€”{{review.author}} on {{review.createdOn | date}}</cite></blockquote></li></ul></div><product-submit-review></product-submit-review>'),a.put("views/product/product-specs.html",'<h4 translate=SPECS>Specs</h4><ul class="list-unstyled lmargin2" ng-repeat="spec in productDetailCtrl.product.specs"><li><strong>{{ spec.name }}</strong>: {{ spec.value}}</li></ul>'),a.put("views/product/product-submit-review.html",'<p translate=SUBMIT_A_REVIEW></p><form name=reviewForm ng-submit="reviewForm.$valid && reviewCtrl.addReview(productDetailCtrl.product)" novalidate><blockquote ng-show=reviewCtrl.review.stars><strong>{{reviewCtrl.review.stars}} Stars</strong> {{reviewCtrl.review.body}} <cite class=clearfix>-{{reviewCtrl.review.author}} on {{review.createdOn | date}}</cite></blockquote><div class=row><div class="col-lg-4 col-md-4"><fieldset class=form-group><select ng-model=reviewCtrl.review.stars class=form-control ng-options="stars for stars in reviewCtrl.starSystem" title=Stars required><option value="" translate=RATE_THE_PRODUCT></select></fieldset></div></div><div class=row><div class="col-lg-6 col-md-6"><fieldset class=form-group><textarea ng-model=reviewCtrl.review.body class=form-control placeholder="{{ \'WRITE_A_SHORT_REVIEW\' | translate }}" title=review required></textarea></fieldset></div></div><div class=row><div class="col-lg-4 col-md-4"><fieldset class=form-group><input type=email ng-model=reviewCtrl.review.author class=form-control placeholder="{{ \'AUTHOR_EMAIL_ADDRESS\' | translate }}" title=author required></fieldset></div></div><div class=row><div class="col-lg-3 col-md-3"><fieldset class=form-group><input ng-disabled=reviewForm.$invalid class="btn btn-primary pull-right" type=submit value="{{ \'SUBMIT_REVIEW\' | translate }}"></fieldset></div></div></form>'),a.put("views/product/product-tabs.html",'<section class=xymargin><ul class="nav nav-pills"><li ng-class={active:panelCtrl.isSelected(1)}><a href ng-click=panelCtrl.selectTab(1) translate=DESCRIPTION></a></li><li ng-class={active:panelCtrl.isSelected(2)}><a href ng-click=panelCtrl.selectTab(2) translate=SPECIFICATIONS></a></li><li ng-class={active:panelCtrl.isSelected(3)}><a href ng-click=panelCtrl.selectTab(3) translate=REVIEWS></a></li></ul><div class=panel ng-show=panelCtrl.isSelected(1) product-description></div><div class=panel ng-show=panelCtrl.isSelected(2) product-specs></div><div class=panel ng-show=panelCtrl.isSelected(3) product-reviews></div></section>'),a.put("views/product/products.html","<product-carousel></product-carousel><product-list></product-list>"),a.put("views/site-footer.html",'<nav class="navbar navbar-default tmargin5 text-center"><div class=container><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#myFooterNavbar><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=myFooterNavbar><ul class="nav navbar-nav tmargin1"><li class=rmargin2><iframe class=github-btn src="http://ghbtns.com/github-btn.html?user=fortesl&amp;repo=thestore&amp;type=watch&amp;count=true" width=100 height=20 title="Star on GitHub"></iframe></li><li class=rmargin2><iframe class=github-btn src="http://ghbtns.com/github-btn.html?user=fortesl&amp;repo=thestore&amp;type=fork&amp;count=true" width=102 height=20 title="Fork on GitHub"></iframe></li><li class=follow-btn><iframe id=twitter-widget-1 scrolling=no frameborder=0 allowtransparency=true src="https://platform.twitter.com/widgets/follow_button.1409790579.html#_=1410438000839&amp;id=twitter-widget-1&amp;lang=en&amp;screen_name=the_onlinestore&amp;show_count=true&amp;show_screen_name=true&amp;size=m" class="twitter-follow-button twitter-follow-button" title="Twitter Follow Button" data-twttr-rendered=true style="width: 236px; height: 20px"></iframe></li><li class=tweet-btn><iframe id=twitter-widget-0 scrolling=no frameborder=0 allowtransparency=true src="https://platform.twitter.com/widgets/tweet_button.1409790579.html#_=1410438000837&amp;count=horizontal&amp;id=twitter-widget-0&amp;lang=en&amp;original_referer=http%3A%2F%2Fgetbootstrap.com%2Fcomponents%2F&amp;related=mdo%3ACreator%20of%20the_onlinestore&amp;size=m&amp;via=the_onlinestore" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered=true style="width: 108px; height: 20px"></iframe></li><li><a href="mailto:{{ storeMetadata.author.email }}?subject={{ storeMetadata.name }}"><span class="glyphicon glyphicon-envelope" translate=CONTACTUS></span></a></li></ul></div><div class=bs-docs-footer-links><a class=rmargin2 href=https://github.com/fortesl/thestore/blob/master/README.md translate=ABOUT></a> <span class=rmargin2>{{ \'VERSION_TEXT\' | translate }} {{ storeMetadata.version.full }}</span> <a class=rmargin2 href=https://github.com/fortesl/thestore/blob/master/LICENSE translate=LICENSE></a> <a class=rmargin2 href=https://github.com/fortesl/thestore/issues>{{ "ISSUES" | translate }}</a></div></div></nav>'),a.put("views/site-header.html",'<nav class="navbar navbar-default navbar-fixed-top bmargin1"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#myNavbar><span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <span class="navbar-brand text-muted"><a href=#><img width=32px height=32px ng-src=favicon.ico></a></span></div><div class="collapse navbar-collapse" id=myNavbar><ul class="nav navbar-nav navbar-right"><li class=rmargin2><ng-form autocomplete=on><input class="input-sm lfloat tmargin07" autofocus type=search size=30 ng-model=search placeholder="{{ \'SEARCH\' | translate }}"> <a ng-href="#/" class="btn btn-info btn-sm tmargin07" translate=GO></a></ng-form></li><li><a ng-href=#/signup><span class="glyphicon glyphicon-user"></span> {{ \'SIGN_UP\' | translate }}</a></li><li class=rmargin2><a ng-href=# data-toggle=modal data-target=#loginModal><span class="glyphicon glyphicon-log-in"></span> {{ \'SIGN_IN\' | translate }}</a></li><li><select class="tmargin1 rmargin2" ng-model=storeCtrl.currentLanguage ng-change=storeCtrl.switchLanguage(storeCtrl.currentLanguage) ng-options="lang.code as lang.name for lang in storeCtrl.supportedLanguages"></select></li></ul></div></div></nav>'),a.put("views/user/sign-up.html",'<div class="container tmargin2"><h1 translate=SIGN_UP></h1><form name=signupForm ng-submit="signupForm.$valid && userCtrl.addUser()" novalidate><div class="row tmargin2"><div class="col-md-6 col-lg-6"><fieldset class=form-group id=inputFirstNameFormGroup><label for=inputFirstName translate=FIRST_NAME></label><input class=form-control id=inputFirstName placeholder="{{ \'ENTER_YOUR_FIRST_NAME\' | translate }}" ng-model=userCtrl.user.firstName required></fieldset></div></div><div class="row tbmargin"><div class="col-md-6 col-lg-6"><fieldset class=form-group id=inputLastNameFormGroup><label for=inputLastName translate=LAST_NAME></label><input class=form-control id=inputLastName placeholder="{{ \'ENTER_YOUR_LAST_NAME\' | translate}}" ng-model=userCtrl.user.lastName required></fieldset></div></div><div class="row tbmargin"><div class="col-md-4 col-lg-4"><fieldset class=form-group id=inputEmailFormGroup><label for=inputEmail translate=EMAIL_ADDRESS></label><input type=email class=form-control id=inputEmail placeholder="{{ \'ENTER_YOUR_EMAIL_ADDRESS\' | translate}}" ng-model=userCtrl.user.emailAddress required></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group id=inputPasswordFormGroup><label for=inputPassword translate=PASSWORD></label><input name=password type=password class=form-control id=inputPassword ng-model=userCtrl.user.password ng-minlength=8 required> <span ng-show=signupForm.password.$error.minlength>minimum length is 8</span></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group id=inputRepeatPasswordFormGroup><label for=inputRepeatPassword translate=REPEAT_PASSWORD></label><input type=password class=form-control id=inputRepeatPassword ng-model=userCtrl.user.repeatPassword ng-minlength=8 required></fieldset></div></div><div class="row tbmargin"><div class="col-md-3 col-lg-3"><fieldset class=form-group id=buttonsGroup><input ng-disabled=signupForm.$invalid class="btn btn-primary" type=submit value="{{ \'SUBMIT\' | translate }}"></fieldset></div></div></form></div>')}]),function(){"use strict";var a=angular.module("user");a.controller("UserController",[function(){var a=this;a.addUser=function(){return window.console.log(a.user),a.user={},!0}}])}();