!function(){"use strict";var a=angular.module("storeApp",["ngRoute","product","user","pascalprecht.translate"]);angular.module("product",[]),angular.module("user",[]),a.config(["$routeProvider","$translateProvider",function(a,b){a.when("/",{templateUrl:"views/product/products.html",controller:"ProductController as productCtrl"}).when("/products",{templateUrl:"views/product/products.html",controller:"ProductController as productCtrl"}).when("/products/:productId",{templateUrl:"views/product/product-details.html",controller:"ProductDetailController as productDetailCtrl"}).when("/signup",{templateUrl:"views/user/sign-up.html",controller:"UserController as userCtrl"}).otherwise({redirectTo:"/"}),b.useStaticFilesLoader({prefix:"/i18n/messages_",suffix:".json"}),b.preferredLanguage("en")}]),a.factory("MetadataService",["$http",function(a){return{get:function(){return a.get("data/metadata.json")}}}]),a.factory("SupportedLanguagesService",["$http",function(a){return{getLanguages:function(){return a.get("i18n/supported_languages.json")}}}]),a.controller("StoreController",["$rootScope","$translate","SupportedLanguagesService","MetadataService",function(a,b,c,d){var e=this;d.get().success(function(b){a.storeMetadata=b,a.storeTitle=b.name});var f=function(){e.currentLanguage=e.supportedLanguages[0].code;for(var a=e.supportedLanguages.length,c=b.use(),d=0;a>d;d++)if(e.supportedLanguages[d].code===c){e.currentLanguage=e.supportedLanguages[d].code;break}};e.supportedLanguages=[],c.getLanguages().then(function(a){e.supportedLanguages=a.data,e.supportedLanguages.length?f():e.errorMessage="Store Error: supportedLanguages not found"},function(a){e.errorMessage=a.data.msg}),e.switchLanguage=function(a){b.use(a)}}]),a.directive("siteHeader",function(){return{restrict:"E",templateUrl:"site-header.html"}}),a.directive("siteFooter",function(){return{restrict:"E",templateUrl:"site-footer.html"}})}(),function(){"use strict"}(),function(){"use strict";var a=angular.module("product");a.controller("ProductController",["ProductService","$filter",function(a,b){var c=this;c.products=[],c.selectedProduct=0,c.sortOrder="",c.productSort=[{value:"name",label:b("translate")("SORT_BY_PRODUCT_NAME_ASC")},{value:"-name",label:b("translate")("SORT_BY_PRODUCT_NAME_DESC")},{value:"price",label:b("translate")("SORT_BY_PRODUCT_PRICE_ASC")},{value:"-price",label:b("translate")("SORT_BY_PRODUCT_PRICE_DESC")}],c.selectRandomProduct=function(){return c.selectedProduct=Math.floor(Math.random()*c.products.length),c.selectedProduct},a.getList().then(function(a){c.products=a.data,c.selectRandomProduct()},function(b){a.errorMessage=b.data.msg,c.errorMessage=b.data.msg})}]),a.directive("productList",function(){return{restrict:"E",templateUrl:"views/product/product-list.html"}}),a.directive("productCarousel",function(){return{restrict:"E",templateUrl:"views/product/product-carousel.html"}})}(),function(){"use strict";var a=angular.module("product");a.controller("ProductDetailController",["$routeParams","ProductService",function(a,b){this.productId=a.productId;var c=this;b.getDetail(c.productId).then(function(a){c.product=a.data},function(a){c.errorMessage=a.data.msg,b.errorMessage=a.data.msg})}]),a.directive("productSubmitReview",function(){return{restrict:"E",templateUrl:"views/product/product-submit-review.html"}}),a.directive("productTabs",function(){return{restrict:"E",templateUrl:"views/product/product-tabs.html",controller:[function(){var a=this;a.tab=1,a.selectTab=function(b){a.tab=b},a.isSelected=function(b){return a.tab===b}}],controllerAs:"panelCtrl"}}),a.directive("productSpecs",function(){return{restrict:"A",templateUrl:"views/product/product-specs.html"}}),a.directive("productDescription",function(){return{restrict:"A",templateUrl:"views/product/product-description.html"}}),a.directive("productReviews",function(){return{restrict:"A",templateUrl:"views/product/product-reviews.html",controller:[function(){var a=this;a.review={},a.starSystem=[5,4,3,2,1],a.addReview=function(b){a.review.createdOn=Date.now(),b.reviews.push(this.review),a.review={}}}],controllerAs:"reviewCtrl"}}),a.directive("productImageGallery",function(){return{restrict:"E",templateUrl:"views/product/product-image-gallery.html",controller:[function(){var a=this;a.current=0,a.setCurrent=function(b){a.current=b}}],controllerAs:"galleryCtrl"}})}(),function(){"use strict";var a=angular.module("product");a.factory("ProductService",["$http",function(a){return{errorMessage:"",getList:function(){return a.get("data/products.json")},getDetail:function(b){return a.get("data/"+b+".json")}}}])}(),function(){"use strict";var a=angular.module("user");a.controller("UserController",[function(){var a=this;a.addUser=function(){return window.console.log(a.user),a.user={},!0}}])}();